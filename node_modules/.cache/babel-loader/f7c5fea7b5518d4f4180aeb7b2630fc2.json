{"remainingRequest":"/Users/azusa2658/Desktop/homehome-pixnet-hackathon/frontend/node_modules/babel-loader/lib/index.js!/Users/azusa2658/Desktop/homehome-pixnet-hackathon/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/azusa2658/Desktop/homehome-pixnet-hackathon/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/azusa2658/Desktop/homehome-pixnet-hackathon/frontend/src/views/survey.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/azusa2658/Desktop/homehome-pixnet-hackathon/frontend/src/views/survey.vue","mtime":1631284772383},{"path":"/Users/azusa2658/Desktop/homehome-pixnet-hackathon/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1566194339717},{"path":"/Users/azusa2658/Desktop/homehome-pixnet-hackathon/frontend/node_modules/babel-loader/lib/index.js","mtime":1566194330090},{"path":"/Users/azusa2658/Desktop/homehome-pixnet-hackathon/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1566194339717},{"path":"/Users/azusa2658/Desktop/homehome-pixnet-hackathon/frontend/node_modules/vue-loader/lib/index.js","mtime":1566194340095}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es7.object.values\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from 'axios';\nexport default {\n  name: 'survey',\n  data: function data() {\n    return {\n      questions: [],\n      test: {\n        0: '0',\n        1: '0',\n        2: '0',\n        3: '0',\n        4: '0',\n        5: '0',\n        6: '0',\n        7: '0'\n      },\n      mapping: [\"A\", \"B\", \"C\", \"D\"],\n      results: [],\n      page: 1\n    };\n  },\n  mounted: function mounted() {\n    this.question();\n  },\n  methods: {\n    question: function question() {\n      var _this = this;\n\n      axios({\n        method: 'GET',\n        url: 'http://35.193.69.171/homehome-pixnet-hackathon/public/index.php/ques'\n      }).then(function (response) {\n        console.log(response.data);\n        _this.questions = response.data;\n      }).catch(function (err) {\n        console.log(err);\n      });\n    },\n    close: function close() {\n      document.getElementById('exampleModalCenter').style.display = 'none';\n    },\n    submitAnswer: function submitAnswer() {\n      var _this2 = this;\n\n      document.querySelector(\".surveyProgress\").style.display = 'none';\n      document.getElementById('loading').style.display = 'block';\n      document.getElementById('loading').style.opacity = '1';\n      var diu = Object.values(this.test);\n\n      for (var i = 0; i < diu.length; i++) {\n        diu[i] = this.mapping[diu[i]];\n      }\n\n      diu = diu.join();\n      diu = diu.replace(/,/g, '');\n      console.log(diu);\n      axios({\n        method: 'GET',\n        url: \"http://35.193.69.171/homehome-pixnet-hackathon/public/index.php/spot/\".concat(diu)\n      }).then(function (response) {\n        console.log(response.data);\n        _this2.results = response.data;\n        document.getElementById('loading').style.display = 'none';\n        document.getElementById('loading').style.opacity = '0';\n        document.getElementById('exampleModalCenter').style.display = 'block';\n        document.getElementById('exampleModalCenter').style.opacity = '1';\n      }).catch(function (err) {\n        console.log(err);\n      });\n    },\n    next: function next() {\n      if (this.page < 9) {\n        document.querySelector(\".surveys\").style.top = \"-\" + this.page * 100 + \"%\";\n        document.querySelector(\".progress-bar\").style.width = this.page * 12.5 + \"%\";\n      }\n\n      this.page += 1;\n    },\n    reload: function reload() {\n      location.reload();\n    }\n  }\n};",{"version":3,"sources":["survey.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n<div id=\"surveyContainer\">\n  <div class=\"progress surveyProgress\">\n    <div class=\"progress-bar bg-info\" role=\"progressbar\" style=\"width: 0%\" aria-valuenow=\"50\" aria-valuemin=\"0\" aria-valuemax=\"100\"></div>\n  </div>\n  <div class=\"survey-wrap\">\n    <div class=\"surveys\">\n\n      <div id=\"loading\" class=\"survey\" v-if=\"this.questions==0\">\n        <div class=\"spinner-border\" role=\"status\"></div>\n      </div>\n      <div :key=\"index\" v-for=\"(question, index) in questions\" class=\"survey\">\n        <div class=\"question\"><span>Q{{ index+1 }}</span> {{ question.question}}</div>\n        <div class=\"option\">\n          <div :key=\"choice\" v-for=\"(choice, i) in question.answer\" class=\"container\">\n            <input type=\"radio\" name='index' :id=\"choice\" :value=\"i\" v-model=\"test[index]\" required>\n            <label :for=\"choice\" @click=\"next()\">{{ choice }}</label>\n          </div>\n        </div>\n      </div>\n      <div id=\"surveySubmit\" class=\"survey\">\n        <h4>完成所有題目了，趕快來看看結果吧！</h4>\n        <div class=\"button\">\n          <input type=\"button\" class=\"btn btn-info\" value=\"再玩一次\" @click=\"reload()\">\n          <input type=\"submit\" class=\"btn btn-info\" value=\"看結果\" @click=\"submitAnswer()\">\n        </div>\n      </div>\n\n      <!-- loading effect -->\n      <div class=\"modal fade\" id=\"loading\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalCenterTitle\" aria-hidden=\"false\">\n        <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n          <div class=\"modal-content\">\n            <div class=\"modal-header\">\n              <h5 class=\"modal-title\" id=\"exampleModalLongTitle\">正在努力尋找最佳景點ヽ(✿ﾟ▽ﾟ)ノ</h5>\n                <span aria-hidden=\"true\">&times;</span>\n            </div>\n            <div class=\"modal-body\">\n              <div class=\"spinner-border\" role=\"status\"></div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <!-- loading effect -->\n      <!-- results -->\n      <div class=\"modal fade\" id=\"exampleModalCenter\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalCenterTitle\" aria-hidden=\"false\">\n        <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n          <div class=\"modal-content\">\n            <div class=\"modal-header\">\n              <h5 class=\"modal-title\" id=\"exampleModalLongTitle\">以下是測試的結果<br>打包好行李準備出門玩吧<br>ε٩(๑> ₃ <)۶з</h5>\n              <button type=\"button\" @click=\"close()\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                <span aria-hidden=\"true\">&times;</span>\n              </button>\n            </div>\n            <div class=\"modal-body\">\n              <a :key=\"result.article_url\" v-for=\"result in results\" :href=\"result.article_url\" target=\"_blank\">{{ result.spot_name }}<br></a>\n\n            </div>\n            <div class=\"modal-footer\">\n              <!-- <button @click=\"close()\" type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">關閉</button> -->\n              <h6>點擊景點可以看相關文章喔～</h6>\n            </div>\n          </div>\n        </div>\n      </div>\n      <!-- results -->\n    </div>\n  </div>\n  <img src=\"https://res.cloudinary.com/tzuhsin/image/upload/v1566400988/wave_r05oq4.png\" class=\"bgImage\">\n</div>\n</template>\n\n<script>\nimport axios from 'axios';\nexport default {\n  name: 'survey',\n  data (){\n    return{\n      questions: [],\n      test: {\n        0:'0',\n        1:'0',\n        2:'0',\n        3:'0',\n        4:'0',\n        5:'0',\n        6:'0',\n        7:'0',\n      },\n      mapping: [\"A\",\"B\",\"C\",\"D\"],\n      results: [],\n      page: 1,\n    }\n  },\n  mounted() {\n    this.question();\n  },\n  methods: {\n    question () {\n      axios({\n        method: 'GET',\n        url: 'http://35.193.69.171/homehome-pixnet-hackathon/public/index.php/ques'})\n      .then((response) => {\n        console.log(response.data);\n        this.questions = response.data;\n      })\n      .catch(function (err) {\n          console.log(err);\n      })\n    },\n    close () {\n      document.getElementById('exampleModalCenter').style.display='none';\n    },\n    submitAnswer () {\n      document.querySelector(\".surveyProgress\").style.display = 'none';\n      document.getElementById('loading').style.display='block';\n      document.getElementById('loading').style.opacity='1';\n      var diu = Object.values(this.test)\n      for(var i = 0 ; i <diu.length ; i++){\n        diu[i] = this.mapping[diu[i]];\n      }\n      diu = diu.join();\n      diu = diu.replace(/,/g,'');\n      console.log(diu)\n      axios({\n        method: 'GET',\n        url: `http://35.193.69.171/homehome-pixnet-hackathon/public/index.php/spot/${diu}`})\n      .then((response) => {\n        console.log(response.data);\n        this.results = response.data;\n        document.getElementById('loading').style.display='none';\n        document.getElementById('loading').style.opacity='0';\n        document.getElementById('exampleModalCenter').style.display='block';\n        document.getElementById('exampleModalCenter').style.opacity='1';\n      })\n      .catch(function (err) {\n        console.log(err);\n      })\n    },\n    next () {\n      if (this.page<9) {\n        document.querySelector(\".surveys\").style.top = \"-\"+this.page*100+\"%\";\n        document.querySelector(\".progress-bar\").style.width = this.page*12.5+\"%\"\n      }\n      this.page+=1;\n    },\n    reload () {\n      location.reload();\n    },\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style lang=\"scss\">\n@import '../assets/scss/survey.scss';\n</style>\n"],"sourceRoot":"src/views"}]}