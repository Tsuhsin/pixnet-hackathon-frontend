{"remainingRequest":"/Users/azusa2658/Desktop/project/pixnet-hackathon-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/azusa2658/Desktop/project/pixnet-hackathon-frontend/src/views/survey.vue?vue&type=style&index=0&lang=scss&","dependencies":[{"path":"/Users/azusa2658/Desktop/project/pixnet-hackathon-frontend/src/views/survey.vue","mtime":1631302039629},{"path":"/Users/azusa2658/Desktop/project/pixnet-hackathon-frontend/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Users/azusa2658/Desktop/project/pixnet-hackathon-frontend/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/azusa2658/Desktop/project/pixnet-hackathon-frontend/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/azusa2658/Desktop/project/pixnet-hackathon-frontend/node_modules/sass-loader/lib/loader.js","mtime":1566194329701},{"path":"/Users/azusa2658/Desktop/project/pixnet-hackathon-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/azusa2658/Desktop/project/pixnet-hackathon-frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n@import '../assets/scss/survey.scss';\n",{"version":3,"sources":["survey.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+JA","file":"survey.vue","sourceRoot":"src/views","sourcesContent":["<template>\n<div id=\"surveyContainer\">\n  <div class=\"progress surveyProgress\">\n    <div class=\"progress-bar bg-info\" role=\"progressbar\" style=\"width: 0%\" aria-valuenow=\"50\" aria-valuemin=\"0\" aria-valuemax=\"100\"></div>\n  </div>\n  <div class=\"survey-wrap\">\n    <div class=\"surveys\">\n\n      <!-- <div id=\"loading\" class=\"survey\" v-if=\"this.questions==0\">\n        <div class=\"spinner-border\" role=\"status\"></div>\n      </div> -->\n      <div :key=\"index\" v-for=\"(question, index) in questions\" class=\"survey\">\n        <div class=\"question\"><span>Q{{ index+1 }}</span> {{ question.question}}</div>\n        <div class=\"option\">\n          <div :key=\"choice\" v-for=\"(choice, i) in question.answer\" class=\"container\">\n            <input type=\"radio\" name='index' :id=\"choice\" :value=\"i\" v-model=\"test[index]\" required>\n            <label :for=\"choice\" @click=\"next()\">{{ choice }}</label>\n          </div>\n        </div>\n      </div>\n      <div id=\"surveySubmit\" class=\"survey\">\n        <h4>完成所有題目了，趕快來看看結果吧！</h4>\n        <div class=\"button\">\n          <input type=\"button\" class=\"btn btn-info\" value=\"再玩一次\" @click=\"reload()\">\n          <input type=\"submit\" class=\"btn btn-info\" value=\"看結果\" @click=\"submitAnswer()\">\n        </div>\n      </div>\n\n      <!-- loading effect -->\n      <div class=\"modal fade\" id=\"loading\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalCenterTitle\" aria-hidden=\"false\">\n        <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n          <div class=\"modal-content\">\n            <div class=\"modal-header\">\n              <h5 class=\"modal-title\" id=\"exampleModalLongTitle\">正在努力尋找最佳景點ヽ(✿ﾟ▽ﾟ)ノ(靜態Demo會一直loading))</h5>\n                <span aria-hidden=\"true\" @click=\"reload()\">&times;</span>\n            </div>\n            <div class=\"modal-body\">\n              <div class=\"spinner-border\" role=\"status\"></div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <!-- loading effect -->\n      <!-- results -->\n      <div class=\"modal fade\" id=\"exampleModalCenter\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalCenterTitle\" aria-hidden=\"false\">\n        <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n          <div class=\"modal-content\">\n            <div class=\"modal-header\">\n              <h5 class=\"modal-title\" id=\"exampleModalLongTitle\">以下是測試的結果<br>打包好行李準備出門玩吧</h5>\n              <button type=\"button\" @click=\"close()\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                <span aria-hidden=\"true\">&times;</span>\n              </button>\n            </div>\n            <div class=\"modal-body\">\n              <a :key=\"result.article_url\" v-for=\"result in results\" :href=\"result.article_url\" target=\"_blank\">{{ result.spot_name }}<br></a>\n\n            </div>\n            <div class=\"modal-footer\">\n              <!-- <button @click=\"close()\" type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">關閉</button> -->\n              <h6>點擊景點可以看相關文章喔～</h6>\n            </div>\n          </div>\n        </div>\n      </div>\n      <!-- results -->\n    </div>\n  </div>\n  <img src=\"https://res.cloudinary.com/tzuhsin/image/upload/v1566400988/wave_r05oq4.png\" class=\"bgImage\">\n</div>\n</template>\n\n<script>\n// import axios from 'axios';\nexport default {\n  name: 'survey',\n  data (){\n    return{\n      questions: [\n        { question: '喜歡什麼顏色？', answer: ['橘色','藍色','綠色','粉色'] },\n        { question: '願意嘗試浮潛嗎？', answer: ['願意','不願意'] },\n        { question: '什麼動物比較吸引你？', answer: ['貓','鳥類','海洋生物'] },\n        { question: '到了景點後第一件事是？', answer: ['吃吃吃！','購物','拜訪當地古蹟','拍照'] }\n      ],\n      test: {\n        0:'0',\n        1:'0',\n        2:'0',\n        3:'0',\n        4:'0',\n        5:'0',\n        6:'0',\n        7:'0',\n      },\n      mapping: [\"A\",\"B\",\"C\",\"D\"],\n      results: [],\n      page: 1,\n    }\n  },\n  // mounted() {\n  //   this.question();\n  // },\n  methods: {\n    // question () {\n    //   axios({\n    //     method: 'GET',\n    //     url: 'http://35.193.69.171/homehome-pixnet-hackathon/public/index.php/ques'})\n    //   .then((response) => {\n    //     //console.log(response.data);\n    //     this.questions = response.data;\n    //   })\n    //   .catch(function (err) {\n    //       console.log(err);\n    //   })\n    // },\n    close () {\n      document.getElementById('exampleModalCenter').style.display='none';\n    },\n    submitAnswer () {\n      document.querySelector(\".surveyProgress\").style.display = 'none';\n      document.getElementById('loading').style.display='block';\n      document.getElementById('loading').style.opacity='1';\n      var ans = Object.values(this.test)\n      for(var i = 0 ; i <ans.length ; i++){\n        ans[i] = this.mapping[ans[i]];\n      }\n      ans = ans.join();\n      ans = ans.replace(/,/g,'');\n      console.log(ans)\n      // axios({\n      //   method: 'GET',\n      //   url: `http://35.193.69.171/homehome-pixnet-hackathon/public/index.php/spot/${ans}`})\n      // .then((response) => {\n      //   //console.log(response.data);\n      //   this.results = response.data;\n      //   document.getElementById('loading').style.display='none';\n      //   document.getElementById('loading').style.opacity='0';\n      //   document.getElementById('exampleModalCenter').style.display='block';\n      //   document.getElementById('exampleModalCenter').style.opacity='1';\n      // })\n      // .catch(function (err) {\n      //   console.log(err);\n      // })\n    },\n    next () {\n      if (this.page<9) {\n        document.querySelector(\".surveys\").style.top = \"-\"+this.page*100+\"%\";\n        document.querySelector(\".progress-bar\").style.width = this.page*25+\"%\"\n      }\n      this.page+=1;\n    },\n    reload () {\n      location.reload();\n    },\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style lang=\"scss\">\n@import '../assets/scss/survey.scss';\n</style>\n"]}]}